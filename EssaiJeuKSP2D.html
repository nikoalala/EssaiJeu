<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
   		<script src='./js/lib/jquery-1.9.1.js'></script>
   		
        <script src='./js/lib/jsgamesoup.js'></script>
        <script src='./js/lib/noise.js'></script>
        <script src='./js/lib/random.js'></script>
        <script src='./js/lib/entity-reference.js'></script> 
       	<script src="./js/lib/random.js"></script>
		<script src="./js/lib/sprite.js"></script>
		<script src="./js/lib/collisions.js"></script>
		
		<script src="./js/World.js"></script>
		<script src="./js/FuelTank.js"></script>
		<script src="./js/Panel.js"></script>
		<script src="./js/Engine.js"></script>		
		<script src="./js/Smoke.js"></script>	
		<script src="./js/Vessel.js"></script>	
		<script src="./js/Cockpit.js"></script>			
        <script>
        
        Array.prototype.destroy = function(obj){
            // Return null if no objects were found and removed
            var destroyed = null;

            for(var i = 0; i < this.length; i++){

                // Use while-loop to find adjacent equal objects
                while(this[i] === obj){

                    // Remove this[i] and store it within destroyed
                    destroyed = this.splice(i, 1)[0];
                }
            }

            return destroyed;
        }
        
        
            function startGame(gs) {
                // our demo game entity
                
               	r = new SeedableRandom();
			  	var d = new Date;
			  	r.seed(d.getTime());
			  	
			  	 w = new World();
	        	gs.addEntity(w);
            }
            var PI = Math.PI;
            var gs;
            var r;
            
            function launch() {
            		// grab the surface div and insert a canvas of the same size inside it
            	 	var surface = document.getElementById("surface");
            	 	var newcanvas = document.createElement("canvas");
             	// set the width and height of our canvas to be the same as the container div
            	newcanvas.style.width = newcanvas.width = (surface.offsetWidth + 1);
            	 	newcanvas.style.height = newcanvas.height = (surface.offsetHeight + 1);
            	 	surface.appendChild(newcanvas);
            	 	// launch the gamesoup loop on the new canvas we just created
            	 	gs = new JSGameSoup(newcanvas, 30);
            	 	startGame(gs);
            	 	gs.launch();
            	 }
            
           
        </script>
    </head>
    <style>
	html, body {
		margin: 0px;
		padding: 0px;
		overflow: hidden;
	}
	
	div {
		width: 100%;
		height: 100%;
		position: absolute;
		top: -1px;
		left: -1px;
	}
	</style>
    <body onload='launch()'>
        <div id='surface'></div>
    </body>
</html>